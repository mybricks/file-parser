!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}(window,(function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";function r(e,...t){t.forEach(t=>{t&&t.forEach((o,r)=>{e(o,r,t)})})}o.r(t),o.d(t,"getJSONFromModule",(function(){return f})),o.d(t,"getJSONFromRXUIFile",(function(){return d})),o.d(t,"parseFromRXUIFile",(function(){return u}));function n(e){let t;const o=[];for(let o in e)if("xg.desn.stageview"===o){t=c(e[o]).mainModule}const r=e=>{e.comAry&&e.comAry.forEach(e=>{const t=e.runtime.def;if(t){const e=t.namespace+"@"+t.version;o.indexOf(e)<=0&&o.push(e)}e.slots&&e.slots.forEach(e=>{r(e)})})};return t.slot.slots.forEach(e=>{r(e)}),{mainModule:{slot:t.slot.slots[0],frame:t.frame.frames[0]},requireComs:o}}let i,s;function c(e){if("object"!=typeof e||"object"!=typeof e.def||"object"!=typeof e.refs)throw new Error("Invalid data format.");const{def:t,refs:o,D:r}=e;if(r)if(r.W){const e={};Object.keys(r.W).forEach(t=>{e[r.W[t]]=t}),r.W=e,i=r}else i=Object.assign({W:{}},r);else i={C:{},W:{}};s={refs:o,didMap:{}};return function e(t,o){const{refs:r,didMap:n}=s;if(Array.isArray(t))return t.map(t=>e(t));if("object"==typeof t&&t){if(t._hc_)return n[t._hc_]=o||t,o||t;const s=t._R_;if("string"==typeof s){if(!o&&n[s])return n[s];t=r[s],n[s]=o||t}let c,f;(f=t._F_)&&(c=function(){}),delete t._F_;let d=function(e,t){let o=[];do{if(e==Object.prototype||e==Function.prototype)break;try{o=o.concat(Object.getOwnPropertyNames(e))}catch(e){console.error(e)}}while(e=Object.getPrototypeOf(e));return o.filter(o=>{if(!t||t&&"function"!=typeof e[o])return"constructor"!=o&&!/^__.+/g.test(o)})}(t);if(d.length>0){const o=t._ignore_;d.forEach(r=>{let n=i.W[r],s=t[r];if(n?(t[r]=void 0,delete t[r]):n=r,"_ignore_"===r)return;const c=function(e,t){let o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){let r=e;for(;void 0===o&&null!=(r=Object.getPrototypeOf(r))&&r!==Object.prototype;)o=Object.getOwnPropertyDescriptor(r,t)}return o}(t,n);if(!(c&&c.get&&!c.set||o&&o[n]||o&&o[n])){o&&console.log(n);const r=e(s);try{t[n]=r}catch(e){throw e}}})}}return t}(t)}function f(e){return function({slot:e,frame:t}){let o;const n=e=>{if(e.comAry){const t=[];return e.comAry.forEach(e=>{let o;e.slots&&(o={},e.slots.forEach(e=>{const t=n(e);t&&(o[e.id]=t)})),t.push({id:e.id,def:e.runtime.def,slots:o})}),{comAry:t,style:e.style}}};o=n(e);const i=[],s=[],c=[],f={},d={},u={},p={},a={},l=(e,t)=>{if(e.rels&&(f[`${t}-${e.hostId}`]=e.rels),e.proxyPin){const o=e.proxyPin.parent;if(0===o._type){const r=o.id;d[`${t}-${e.hostId}`]={type:"frame",frameId:r,pinId:e.proxyPin.hostId}}}},y=(e,t)=>{if(e.conAry){const o=[];e.conAry.forEach(e=>{const t=e.finishPin;if(!t)return;const r=t.parent;if(1===r._type)o.push({type:"com",startPinParentKey:e.startPinParentKey,finishPinParentKey:e.finishPinParentKey,comId:r.id,def:r.runtime.def,pinId:t.hostId,pinType:t.type,direction:t.direction,extBinding:t.extBinding});else{let e;e=t.forkedFrom?t.forkedFrom:t;const r=e.parent;if(0===r._type){const t=e.forkedAsJoint;if(t){const e={type:"frame",frameId:r.id,comId:r.parent?r.parent.id:void 0,pinId:t.hostId,pinType:t.type,direction:t.direction};o.push(e);const n=`${e.comId?e.comId+"-":""}${e.frameId}`;y(t,n)}else{const t=1===r.parent._type?r.parent.id:void 0;o.push({type:"frame",frameId:r.id,comId:t,pinId:e.hostId,pinType:e.type,direction:e.direction})}}}}),o.length>0&&(u[`${t}-${e.hostId}`]=o)}},m=e=>{e.inputPins&&e.inputPins.forEach(t=>{let o;o=e.parent&&1===e.parent._type?`${e.parent.id}-${e.id}`:e.parent?e.id:"_rootFrame_",y(t,o),l(t,o),e.parent||s.push({id:t.hostId,title:t.title,type:t.type,schema:t.schema,extValues:t.extValues})}),e.outputPins&&e.outputPins.forEach(t=>{e.parent||c.push({id:t.hostId,title:t.title,type:t.type,schema:t.schema})}),e.comAry&&e.comAry.forEach(t=>{var o;const n=t.runtime.def;i.find(e=>e.namespace===n.namespace&&e.version===n.version)||i.push(n);const s=[],c=[],f=[],d=t.runtime.geo;if(p[t.id]={def:n,frameId:e.parent?e.id:void 0,model:t.runtime.model,reservedEditorAry:d?d.reservedEditorAry:void 0,configs:s,inputs:c,outputs:f},t.configPins&&t.configPins.forEach(e=>{s.push(e.hostId)}),r(e=>{l(e,t.id),c.push(e.hostId)},...t.getInputsAll()),r(e=>{y(e,t.id),f.push(e.hostId)},...t.getOutputsAll()),t.isAutoRun()&&(null===(o=n.rtType)||void 0===o?void 0:o.match(/^js/))){const o=e.parent?`${e.parent.id}-${e.id}`:"_rootFrame_";let r=a[o];r||(r=a[o]=[]),r.push({id:t.id,def:n})}t.frames&&t.frames.forEach(e=>{m(e)})}),e.frameAry&&e.frameAry.forEach(e=>{m(e)})};return m(t),{deps:i,coms:p,slot:o,comsAutoRun:a,inputs:s,outputs:c,cons:u,pinRels:f,pinProxies:d}}(e)}function d(e){return f(n(e).mainModule)}function u(e){return n(e)}}])}));